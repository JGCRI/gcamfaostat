<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Use Cases â€¢ gcamfaostat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Use Cases">
<meta property="og:description" content="gcamfaostat">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gcamfaostat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/vignette_getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/vignette_preparing_data.html">Preparing Data</a>
    </li>
    <li>
      <a href="../articles/vignette_processing_flow.html">Processing Flow</a>
    </li>
    <li>
      <a href="../articles/vignette_use_cases.html">Use Cases</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/vignette_visualization.html">
    <span class="fa fa-file-image-o"></span>
     
    Visualization
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../articles/vignette_news.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jgcri/gcamfaostat/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Use Cases</h1>
            
            <h4 data-toc-skip class="date">2023-10-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jgcri/gcamfaostat/blob/HEAD/vignettes/vignette_use_cases.Rmd" class="external-link"><code>vignettes/vignette_use_cases.Rmd</code></a></small>
      <div class="hidden name"><code>vignette_use_cases.Rmd</code></div>

    </div>

    
    
<p><strong>This page describes additional functions and capabilities of
<code>gcamfaostat</code></strong>. Users are also encouraged to check
out <code>gcamdata</code> online manual, e.g., <a href="https://jgcri.github.io/gcamdata/articles/changing-the-data-system/index.html" class="external-link">data
system changes</a> and <a href="https://jgcri.github.io/gcamdata/articles/usermod_vignette.html" class="external-link">user
modification</a> for additional examples for modifying modules.</p>
<div class="section level2">
<h2 id="faostat-raw-data-and-processing-output-updates">FAOSTAT raw data and processing output updates<a class="anchor" aria-label="anchor" href="#faostat-raw-data-and-processing-output-updates"></a>
</h2>
<p>To update the output data to include new years made available, e.g.,
for model base year updates, user need to</p>
<ol style="list-style-type: decimal">
<li>Download the latest FAOSTAT data using the
<code>FF_download_FAOSTAT</code> function.<br>
</li>
<li>In the configuration file (<code>constants.R</code>), adjust the
year variables and set <code>Process_Raw_FAO_Data</code> to
<code>TRUE</code>.</li>
<li>Verify and update the output formats and names in the data exporting
modules.</li>
<li>Execute the <code>driver_drake</code> function to initiate the data
processing.</li>
</ol>
</div>
<div class="section level2">
<h2 id="adding-new-data-processing-modules">Adding new data processing modules<a class="anchor" aria-label="anchor" href="#adding-new-data-processing-modules"></a>
</h2>
<p>Any R files located in the <code>R</code> folder, as long as they
adhere to the module format with clearly defined module inputs and
outputs, will be automatically detected by the driver and
<code>driver_drake</code> functions. These functions establish a data
map that dictates the sequence of data processing, ensuring that modules
are executed in the correct order. Consequently, the process of adding a
new module to the system is straightforward:</p>
<ol style="list-style-type: decimal">
<li>Create a new module script, following the examples of existing
modules.<br>
</li>
<li>Define the inputs and outputs, and incorporate your data processing
code.</li>
<li>If the module requires new datasets from FAOSTAT, include the
dataset code in <code>gcamfaostat_metadata</code> and use functions like
<code>FF_download_FAOSTAT</code> or <code>FF_rawdata_info</code> to
download the necessary data.</li>
<li>Execute the <code>driver_drake</code> function.<br>
</li>
<li>Modified <code>generate_package_data.R</code> when Prebuilt data
changes are needed.</li>
</ol>
</div>
<div class="section level2">
<h2 id="generating-output-for-new-agroeconomic-models">Generating output for new agroeconomic models<a class="anchor" aria-label="anchor" href="#generating-output-for-new-agroeconomic-models"></a>
</h2>
<p>If all the necessary FAOSTAT raw data is already incorporated into
gcamfaostat, users can directly produce output for a new agroeconomic
model. This can be achieved by either adding an output exporting module
(e.g., <code>module_xfaostat_L199_CSVExportAgSUA</code>) or adapting an
existing module (e.g., <code>module_xfaostat_L201_Forestry</code>) to
export data in the required format. Notably, gcamfaostat presently
includes a function, <code>output_csv_data</code>, for exporting data to
CSV files. Additionally, users have the flexibility to expand the
functionality by incorporating new functions to export data in
alternative formats as needed. In cases where the required data is not
readily available, users should begin by introducing new processing
modules.</p>
<hr>
</div>
<div class="section level2">
<h2 id="country-aggregation-and-disaggregation">Country aggregation and disaggregation<a class="anchor" aria-label="anchor" href="#country-aggregation-and-disaggregation"></a>
</h2>
<p>Since the 1970s, the number of countries in the world has increased
due to the dissolution of regions. In other words, when a region
dissolves, the country associated with it ceases to exist, and new
countries emerge in its place, see <a href="FigCountryChange"><strong>Figure 1</strong></a>. We created
functions to deal with country changes.</p>
<p><a href="https://jgcri.github.io/gcamfaostat/reference/FAOSTAT_AREA_RM_NONEXIST.html"><code>FAOSTAT_AREA_RM_NONEXIST</code></a></p>
<ul>
<li>The function removes nonexistent FAO region using area_code, e.g.,
USSR after 1991.<br>
</li>
<li>All nonexistent countries due to dissolution are removed by
default.<br>
</li>
<li>Small regions/areas with low data quality can also be removed using
the function.</li>
</ul>
<p><a href="https://jgcri.github.io/gcamfaostat/reference/FAO_AREA_DISAGGREGATE_HIST_DISSOLUTION_ALL.html"><code>FAO_AREA_DISAGGREGATE_HIST_DISSOLUTION_ALL</code></a></p>
<ul>
<li>The function disaggregate region to smaller countries.<br>
</li>
<li>All dissolved regions (since 1970s) are disaggregated in historical
periods (before dissolution) based on the data after dissolution.</li>
</ul>
<a name="FigCountryChange"></a><br><center>
<img src="../reference/figures/Fig_CountryChanges.png" style="width:70.0%">
</center>
</div>
<div class="section level2">
<h2 id="other-helper-functions">Other helper functions<a class="anchor" aria-label="anchor" href="#other-helper-functions"></a>
</h2>
<p><a href="https://jgcri.github.io/gcamfaostat/reference/FF_FILL_NUMERATOR_DENOMINATOR.html"><code>FF_FILL_NUMERATOR_DENOMINATOR</code></a></p>
<ul>
<li>A function to fill in missing values with the consideration of the
relationship between two variables.</li>
</ul>
<p><a href="https://jgcri.github.io/gcamfaostat/reference/Moving_average.html"><code>Moving_average</code></a></p>
<ul>
<li>A function to calculate moving average given an odd number of the
periods.</li>
</ul>
<p><a href="https://jgcri.github.io/gcamfaostat/reference/rm_accent.html"><code>rm_accent</code></a></p>
<ul>
<li>A function to remove accent and apostrophe for columns in a data
frame.</li>
</ul>
<p><a href="https://jgcri.github.io/gcamfaostat/reference/rm_accent.html"><code>output_csv_data</code></a></p>
<ul>
<li>A function to save data frames to csv files with desired header
information.</li>
<li>The output can be read into gcamdata directly.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Xin Zhao, Maksym Chepeliev, Pralit Patel, Marshall Wise, Kanishka Narayan, Chris Vernon.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
