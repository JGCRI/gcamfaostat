<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prepare, process, and synthesize FAOSTAT data for global agroeconomic and multisector dynamic modeling • gcamfaostat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Prepare, process, and synthesize FAOSTAT data for global agroeconomic and multisector dynamic modeling">
<meta property="og:description" content="Clean and balance agricultural input, trade, and supply-utilization data for GCAM and other global agroeconomic modeling.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">gcamfaostat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/vignette_getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="articles/vignette_preparing_data.html">Preparing Data</a>
    </li>
    <li>
      <a href="articles/vignette_processing_flow.html">Processing Flow</a>
    </li>
    <li>
      <a href="articles/vignette_use_cases.html">Use Cases</a>
    </li>
  </ul>
</li>
<li>
  <a href="articles/vignette_visualization.html">
    <span class="fa fa-file-image-o"></span>
     
    Visualization
  </a>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="articles/vignette_news.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jgcri/gcamfaostat/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level3">
<h3 id="gcamfaostat-an-r-package-to-prepare-process-and-synthesize-faostat-data-for-global-agroeconomic-and-multisector-dynamic-modeling">
<strong><code>gcamfaostat</code></strong>: An R package to prepare, process, and synthesize FAOSTAT data for global agroeconomic and multisector dynamic modeling<a class="anchor" aria-label="anchor" href="#gcamfaostat-an-r-package-to-prepare-process-and-synthesize-faostat-data-for-global-agroeconomic-and-multisector-dynamic-modeling"></a>
</h3>
</div>
<div class="section level3">
<h3 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h3>
<p>The <strong><code>gcamfaostat</code></strong> R package is designed for the preparation, processing, and synthesis of the Food and Agriculture Organization (FAO) Statistics (<a href="https://www.fao.org/faostat/en/#data" class="external-link">FAOSTAT</a>) agroeconomic data. The primary purpose is to facilitate FAOSTAT data use in global economic and multisector dynamic models while ensuring transparency, traceability, and reproducibility. Here, we provide an overview of the development of <strong><code>gcamfaostat</code></strong> (v1.0.0) and demonstrate its capabilities in generating and maintaining agroeconomic data required for the Global Change Analysis Model (<a href="https://jgcri.github.io/gcam-doc/toc.html" class="external-link">GCAM</a>). Our initiative seeks to enhance the quality and accessibility of data for the global agroeconomic modeling community, with the aim of fostering more robust and harmonized outcomes in a collaborative, efficient, and open-source framework. One of the important features of the package is the possibility to construct the FAO Food Balance Sheets at the disaggregated commodity level (with over 500 commodities), which provides a comprehensive and detailed data input for a variety of analytical and modeling applications. The processed data and visualizations offered by <strong><code>gcamfaostat</code></strong> can also be valuable to a broader audience interested in gaining insights into the intricacies of global agriculture.</p>
<p>This tool bridges a crucial gap in the literature by offering several key features and capabilities.</p>
<ol style="list-style-type: decimal">
<li>
<strong>Transparency and Reproducibility</strong>: <strong><code>gcamfaostat</code></strong> incorporates functions for downloading, cleaning, synthesizing, and balancing agroeconomic datasets in a traceable, transparent, and reproducible manner. This enhances the credibility of the processing and allows for better scrutiny of the methods. We have documented and demonstrated the use of the package in generating and updating agroeconomic data needed for the GCAM.<br>
</li>
<li>
<strong>Expandability and Consistency</strong>: <strong><code>gcamfaostat</code></strong> can be used to flexibly process and update agroeconomic data for any agroeconomic model. The package framework can be also easily expanded to include new modules for consistently processing new data.<br>
</li>
<li>
<strong>Community Collaboration and Efficiency</strong>: The package provides an open-source platform for researchers to continually enhance the processing methods. This collaborative approach, which establishes a standardized and streamlined process for data preparation and processing, carries benefits that extend to all modeling groups. By reducing the effort required for data processing and fostering harmonized base data calibration, it contributes to a reduction in modeling uncertainty and enhances the overall research efficiency.<br>
</li>
<li>
<strong>User Accessibility</strong>: Where applicable, the processed data can be mapped and aggregated to user-specified regions and sectors for agroeconomic modeling. However, beyond the modeling community, <strong><code>gcamfaostat</code></strong> can be valuable to a broader range of users interested in understanding global agriculture trends and dynamics, as it provides user-friendly data processing and visualization tools.</li>
</ol>
<hr>
</div>
<div class="section level3">
<h3 id="user-guide">User Guide<a class="anchor" aria-label="anchor" href="#user-guide"></a>
</h3>
<p>The package is documented in the <a href="https://jgcri.github.io/gcamfaostat/index.html">online manual</a>.</p>
<ul>
<li>
<a href="https://jgcri.github.io/gcamfaostat/articles/vignette_getting_started.html">Getting Started</a>
<ul>
<li><a href="https://jgcri.github.io/gcamfaostat/articles/vignette_preparing_data.html">Preparing Data</a></li>
<li><a href="https://jgcri.github.io/gcamfaostat/articles/vignette_processing_flow.html">Processing Flow</a></li>
<li><a href="https://jgcri.github.io/gcamfaostat/articles/vignette_use_cases.html">Use Cases</a></li>
</ul>
</li>
<li><a href="https://jgcri.github.io/gcamfaostat/reference/index.html">Functions</a></li>
<li><a href="https://jgcri.github.io/gcamfaostat/articles/vignette_visualization.html">Visualization</a></li>
<li><a href="https://jgcri.github.io/gcamfaostat/articles/vignette_news.html">News</a></li>
</ul>
<hr>
</div>
<div class="section level3">
<h3 id="quick-start-in-r--40--rstudio">Quick Start in R (&gt; 4.0) &amp; Rstudio<a class="anchor" aria-label="anchor" href="#quick-start-in-r--40--rstudio"></a>
</h3>
<div class="section level4">
<h4 id="id_1-download-and-install-size--1-gb">1. Download and install (size &lt; 1 GB):<a class="anchor" aria-label="anchor" href="#id_1-download-and-install-size--1-gb"></a>
</h4>
<ul>
<li>On the command line: navigate to your desired folder location and then enter</li>
<li><code>git clone https://github.com/JGCRI/gcamfaostat.git</code></li>
</ul>
</div>
<div class="section level4">
<h4 id="id_2-load-and-run-the-gcamdata-package">2. Load and run the gcamdata package<a class="anchor" aria-label="anchor" href="#id_2-load-and-run-the-gcamdata-package"></a>
</h4>
<ul>
<li>Open the <code>gcamfaostat.Rproj</code> file in the <code>gcamfaostat</code> folder using RStudio.</li>
<li>Load the <code>gcamdata</code> package:</li>
<li><code>devtools::load_all()</code></li>
</ul>
</div>
<div class="section level4">
<h4 id="id_3-modify-configurations">3. Modify configurations<a class="anchor" aria-label="anchor" href="#id_3-modify-configurations"></a>
</h4>
<ul>
<li>To export csv output files, in <code>constants.R</code>,
<ul>
<li>set <code>OUTPUT_Export_CSV</code> to <code>TRUE</code>
</li>
<li>specify the directory path (<code>DIR_OUTPUT_CSV</code>) for output files.</li>
</ul>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="id_4-run-the-driver">4. Run the driver<a class="anchor" aria-label="anchor" href="#id_4-run-the-driver"></a>
</h4>
<ul>
<li><code><a href="reference/driver_drake.html">driver_drake()</a></code></li>
</ul>
</div>
<div class="section level4">
<h4 id="id_5-use-data-and-package-functions">5. Use data and package functions<a class="anchor" aria-label="anchor" href="#id_5-use-data-and-package-functions"></a>
</h4>
<ul>
<li>Data saved in <code>DIR_OUTPUT_CSV</code> can be used in downstream models.</li>
<li>Once <code>drive_drake</code> has been run, all the intermediate data are saved and can be explored (see examples in <a href="https://jgcri.github.io/gcamfaostat/articles/vignette_use_cases.html">Use Cases</a> and <a href="https://jgcri.github.io/gcamfaostat/articles/vignette_visualization.html">Visualization</a>.</li>
</ul>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="package-structure">Package structure<a class="anchor" aria-label="anchor" href="#package-structure"></a>
</h3>
<ul>
<li>
<strong><code>gcamfaostat</code></strong> processes <a href="https://jgcri.github.io/gcamfaostat/articles/vignette_preparing_data.html#metadata">input data</a> to output data in a format that is needed for downstream processing and modeling, e.g., <a href="https://github.com/JGCRI/gcam-core/tree/master/input/gcamdata/inst/extdata/aglu/FAO" class="external-link">data used in gcamdata-aglu-FAO</a> (see the schematic below).</li>
<li>Input data was stored in the <a href="https://github.com/JGCRI/gcamfaostat/blob/main/data/PREBUILT_DATA.rda" class="external-link">Prebuilt Data</a> of the package. The raw data is archived on Zenodo (see Zhao (2022) and URL in the <a href="https://github.com/JGCRI/gcamfaostat/blob/main/R/xfaostat_helper_funcs.R#L144" class="external-link"><code>FF_download_RemoteArchive</code></a> function) to ensure the processing is 100% replicable. Users can also download the latest data using <a href="https://github.com/JGCRI/gcamfaostat/blob/main/R/xfaostat_helper_funcs.R#90" class="external-link"><code>FF_download_FAOSTAT</code></a>.</li>
<li>All intermediate processing and data flows are transparent and traceable. See <a href="https://jgcri.github.io/gcamfaostat/articles/vignette_processing_flow.html">Processing Flow</a> for data-tracing examples.</li>
</ul>
<p><img src="reference/figures/Fig_data_processing_flow.jpg"> Schematic: module (data processing chunk) structure of gcamfaostat</p>
<hr>
</div>
<div class="section level3">
<h3 id="future-work-and-contribution">Future work and contribution<a class="anchor" aria-label="anchor" href="#future-work-and-contribution"></a>
</h3>
<p>Data development is never a once and for all task, and continued efforts are needed to sustain and improve the processing procedures. Further improvements might include:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Sustain processing functions for updated raw data</strong>: ensuring that our processing functions remain up-to-date when raw data undergoes revisions is imperative.<br>
</li>
<li>
<strong>Evaluate and enhance assumptions</strong>: a critical examination of the assumptions utilized in processes like interpolation, extrapolation, aggregation, disaggregation, and mapping is essential and should be an ongoing endeavor.<br>
</li>
<li>
<strong>Revise assumptions in low-quality data zones</strong>: regions and sectors with little or low-quality data require careful consideration. We will need to adjust our assumptions when improved data becomes available.<br>
</li>
<li>
<strong>Promoting broader applications</strong>: leveraging data processed by gcamfaostat can significantly contribute to harmonizing input data in global agroeconomic modeling. Encouraging the utilization of this data and fostering collaboration to enhance data processing is crucial.<br>
</li>
<li>
<strong>Assess sensitivity in downstream applications</strong>: understanding the sensitivity of downstream data applications, e.g., global agroeconomic projections, to upstream data processing assumptions is crucial. This awareness empowers us to make informed decisions and refinements.</li>
</ol>
<p>We welcome and value community contributions to gcamfaostat. Please read our <a href="CONTRIBUTING.html">Contributing Guidelines</a> for information on how to contribute to this package. Through collective and collaborative efforts, we hope to improve the interface between raw data, modeling community, and broader audience. We would be grateful for the feedback and suggestions on potential improvements of the developed data processing framework.</p>
<hr>
</div>
<div class="section level3">
<h3 id="related-publications">Related publications<a class="anchor" aria-label="anchor" href="#related-publications"></a>
</h3>
<ul>
<li>Bond-Lamberty, Ben, Kalyn Dorheim, Ryna Cui, Russell Horowitz, Abigail Snyder, Katherine Calvin, Leyang Feng et al. “gcamdata: An R package for preparation, synthesis, and tracking of input data for the GCAM integrated human-earth systems model.” Journal of Open Research Software 7, no. 1 (2019). DOI: 10.5334/jors.232</li>
<li>Calvin, Katherine V., Abigail Snyder, Xin Zhao, and Marshall Wise. “Modeling land use and land cover change: using a hindcast to estimate economic parameters in gcamland v2. 0.” Geoscientific Model Development 15, no. 2 (2022): 429-447. <a href="https://doi.org/10.5194/gmd-15-429-2022" class="external-link uri">https://doi.org/10.5194/gmd-15-429-2022</a>
</li>
<li>Chepeliev, Maksym. “Incorporating nutritional accounts to the GTAP Data Base.” Journal of Global Economic Analysis 7, no. 1 (2022): 1-43. <a href="https://doi.org/10.21642/JGEA.070101AF" class="external-link uri">https://doi.org/10.21642/JGEA.070101AF</a>
</li>
<li>Narayan et al., (2021). ambrosia: An R package for calculating and analyzing food demand that is responsive to changing incomes and prices. Journal of Open Source Software, 6(59), 2890. <a href="https://doi.org/10.21105/joss.02890" class="external-link uri">https://doi.org/10.21105/joss.02890</a>
</li>
<li>Zhao, Xin, Katherine V. Calvin, Marshall A. Wise, and Gokul Iyer. “The role of global agricultural market integration in multiregional economic modeling: Using hindcast experiments to validate an Armington model.” Economic Analysis and Policy 72 (2021): 1-17. <a href="https://doi.org/10.1016/j.eap.2021.07.007" class="external-link uri">https://doi.org/10.1016/j.eap.2021.07.007</a>
</li>
<li>Zhao, Xin and Marshall Wise. “Core Model Proposal# 360: GCAM agriculture and land use (AgLU) data and method updates: connecting land hectares to food calories.” PNNL <a href="https://jgcri.github.io/gcam-doc/cmp/CMP_360-AgLU_data_method_updates.pdf" class="external-link uri">https://jgcri.github.io/gcam-doc/cmp/CMP_360-AgLU_data_method_updates.pdf</a>
</li>
<li>Zhao, Xin (2022). FAOSTAT AgLU data Archive GCAMv7 (1.0) [Data set]. Zenodo. <a href="https://doi.org/10.5281/zenodo.8260225" class="external-link uri">https://doi.org/10.5281/zenodo.8260225</a>
</li>
</ul>
<p>Copyright 2023 Battelle Memorial Institute; see the LICENSE file.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jgcri/gcamfaostat/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jgcri/gcamfaostat/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/BSD-2-Clause" class="external-link">BSD_2_clause</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Xin Zhao <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0002-1801-4393" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Maksym Chepeliev <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8585-2314" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Pralit Patel <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-3992-1061" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Marshall Wise <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-2718-0051" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Kate Calvin <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-2191-4189" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Kanishka Narayan <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8483-6216" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Chris Vernon <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-3406-6214" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing gcamfaostat</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Xin Zhao, Maksym Chepeliev, Pralit Patel, Marshall Wise, Kate Calvin, Kanishka Narayan, Chris Vernon.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
